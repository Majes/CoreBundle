(function(f){window.Modernizr=function(Z,Y,X){function F(h){Q.cssText=h}function E(i,h){return F(prefixes.join(i+";")+(h||""))}function D(i,h){return typeof i===h}function C(i,h){return !!~(""+i).indexOf(h)}function B(i,h,l){for(var k in i){var j=h[i[k]];if(j!==X){return l===!1?i[k]:D(j,"function")?j.bind(l||h):j}}return !1}var W="2.6.3",V={},U=!0,T=Y.documentElement,S="modernizr",R=Y.createElement(S),Q=R.style,P,O={}.toString,N={},M={},L={},K=[],J=K.slice,I,H={}.hasOwnProperty,G;!D(H,"undefined")&&!D(H.call,"undefined")?G=function(i,h){return H.call(i,h)}:G=function(i,h){return h in i&&D(i.constructor.prototype[h],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(h){var k=this;if(typeof k!="function"){throw new TypeError}var j=J.call(arguments,1),i=function(){if(this instanceof i){var l=function(){};l.prototype=k.prototype;var n=new l,m=k.apply(n,j.concat(J.call(arguments)));return Object(m)===m?m:n}return k.apply(h,j.concat(J.call(arguments)))};return i}),N.canvas=function(){var h=Y.createElement("canvas");return !!h.getContext&&!!h.getContext("2d")};for(var A in N){G(N,A)&&(I=A.toLowerCase(),V[I]=N[A](),K.push((V[I]?"":"no-")+I))}return V.addTest=function(i,h){if(typeof i=="object"){for(var j in i){G(i,j)&&V.addTest(j,i[j])}}else{i=i.toLowerCase();if(V[i]!==X){return V}h=typeof h=="function"?h():h,typeof U!="undefined"&&U&&(T.className+=" "+(h?"":"no-")+i),V[i]=h}return V},F(""),R=P=null,function(aj,ai){function z(i,h){var k=i.createElement("p"),j=i.getElementsByTagName("head")[0]||i.documentElement;return k.innerHTML="x<style>"+h+"</style>",j.insertBefore(k.lastChild,j.firstChild)}function y(){var h=s.elements;return typeof h=="string"?h.split(" "):h}function x(i){var h=ab[i[ad]];return h||(h={},ac++,i[ad]=ac,ab[ac]=h),h}function w(h,k,j){k||(k=ai);if(aa){return k.createElement(h)}j||(j=x(k));var i;return j.cache[h]?i=j.cache[h].cloneNode():af.test(h)?i=(j.cache[h]=j.createElem(h)).cloneNode():i=j.createElem(h),i.canHaveChildren&&!ag.test(h)?j.frag.appendChild(i):i}function v(h,m){h||(h=ai);if(aa){return h.createDocumentFragment()}m=m||x(h);var l=m.frag.cloneNode(),k=0,j=y(),i=j.length;for(;k<i;k++){l.createElement(j[k])}return l}function u(i,h){h.cache||(h.cache={},h.createElem=i.createElement,h.createFrag=i.createDocumentFragment,h.frag=h.createFrag()),i.createElement=function(j){return s.shivMethods?w(j,i,h):h.createElem(j)},i.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+y().join().replace(/\w+/g,function(j){return h.createElem(j),h.frag.createElement(j),'c("'+j+'")'})+");return n}")(s,h.frag)}function t(h){h||(h=ai);var i=x(h);return s.shivCSS&&!ae&&!i.hasCSS&&(i.hasCSS=!!z(h,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),aa||u(h,i),h}var ah=aj.html5||{},ag=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,af=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,ae,ad="_html5shiv",ac=0,ab={},aa;(function(){try{var h=ai.createElement("a");h.innerHTML="<xyz></xyz>",ae="hidden" in h,aa=h.childNodes.length==1||function(){ai.createElement("a");var j=ai.createDocumentFragment();return typeof j.cloneNode=="undefined"||typeof j.createDocumentFragment=="undefined"||typeof j.createElement=="undefined"}()}catch(i){ae=!0,aa=!0}})();var s={elements:ah.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:ah.shivCSS!==!1,supportsUnknownElements:aa,shivMethods:ah.shivMethods!==!1,type:"default",shivDocument:t,createElement:w,createDocumentFragment:v};aj.html5=s,t(ai)}(this,Y),V._version=W,T.className=T.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(U?" js "+K.join(" "):""),V}(this,this.document),function(ad,ac,ab){function aa(h){return"[object Function]"==P.call(h)}function Z(h){return"string"==typeof h}function Y(){}function X(h){return !h||"loaded"==h||"complete"==h||"uninitialized"==h}function W(){var h=O.shift();M=1,h?h.t?R(function(){("c"==h.t?L.injectCss:L.injectJs)(h.s,0,h.a,h.x,h.e,1)},0):(h(),W()):M=0}function V(y,x,w,v,t,s,q){function p(i){if(!m&&X(n.readyState)&&(z.r=m=1,!M&&W(),n.onload=n.onreadystatechange=null,i)){"img"!=y&&R(function(){I.removeChild(n)},50);for(var j in D[x]){D[x].hasOwnProperty(j)&&D[x][j].onload()}}}var q=q||L.errorTimeout,n=ac.createElement(y),m=0,h=0,z={t:w,s:x,e:t,a:s,x:q};1===D[x]&&(h=1,D[x]=[]),"object"==y?n.data=x:(n.src=x,n.type=y),n.width=n.height="0",n.onerror=n.onload=n.onreadystatechange=function(){p.call(this,h)},O.splice(v,0,z),"img"!=y&&(h||2===D[x]?(I.insertBefore(n,J?null:Q),R(p,q)):D[x].push(n))}function U(i,h,l,k,j){return M=0,h=h||"j",Z(i)?V("c"==h?G:H,i,h,this.i++,l,k,j):(O.splice(this.i++,0,i),1==O.length&&W()),this}function T(){var h=L;return h.loader={load:U,i:0},h}var S=ac.documentElement,R=ad.setTimeout,Q=ac.getElementsByTagName("script")[0],P={}.toString,O=[],M=0,K="MozAppearance" in S.style,J=K&&!!ac.createRange().compareNode,I=J?S:Q.parentNode,S=ad.opera&&"[object Opera]"==P.call(ad.opera),S=!!ac.attachEvent&&!S,H=K?"object":S?"script":"img",G=S?"script":H,F=Array.isArray||function(h){return"[object Array]"==P.call(h)},E=[],D={},C={timeout:function(i,h){return h.length&&(i.timeout=h[0]),i}},N,L;L=function(n){function k(i){var i=i.split("!"),h=E.length,u=i.pop(),t=i.length,u={url:u,origUrl:u,prefixes:i},s,l,j;for(l=0;l<t;l++){j=i[l].split("="),(s=C[j.shift()])&&(u=s(u,j))}for(l=0;l<h;l++){u=E[l](u)}return u}function r(l,x,w,v,u){var t=k(l),s=t.autoCallback;t.url.split(".").pop().split("?").shift(),t.bypass||(x&&(x=aa(x)?x:x[l]||x[v]||x[l.split("/").pop().split("?")[0]]),t.instead?t.instead(l,x,w,v,u):(D[t.url]?t.noexec=!0:D[t.url]=1,w.load(t.url,t.forceCSS||!t.forceJS&&"css"==t.url.split(".").pop().split("?").shift()?"c":ab,t.noexec,t.attrs,t.timeout),(aa(x)||aa(s))&&w.load(function(){T(),x&&x(t.origUrl,u,v),s&&s(t.origUrl,u,v),D[t.url]=2})))}function q(B,A){function z(h,i){if(h){if(Z(h)){i||(w=function(){var j=[].slice.call(arguments);v.apply(this,j),u()}),r(h,w,A,0,y)}else{if(Object(h)===h){for(s in t=function(){var j=0,l;for(l in h){h.hasOwnProperty(l)&&j++}return j}(),h){h.hasOwnProperty(s)&&(!i&&!--t&&(aa(w)?w=function(){var j=[].slice.call(arguments);v.apply(this,j),u()}:w[s]=function(j){return function(){var l=[].slice.call(arguments);j&&j.apply(this,l),u()}}(v[s])),r(h[s],w,A,s,y))}}}}else{!i&&u()}}var y=!!B.test,x=B.load||B.both,w=B.callback||Y,v=w,u=B.complete||Y,t,s;z(y?B.yep:B.nope,!!x),x&&z(x)}var p,o,m=this.yepnope.loader;if(Z(n)){r(n,0,m,0)}else{if(F(n)){for(p=0;p<n.length;p++){o=n[p],Z(o)?r(o,0,m,0):F(o)?L(o):Object(o)===o&&q(o,m)}}else{Object(n)===n&&q(n,m)}}},L.addPrefix=function(i,h){C[i]=h},L.addFilter=function(h){E.push(h)},L.errorTimeout=10000,null==ac.readyState&&ac.addEventListener&&(ac.readyState="loading",ac.addEventListener("DOMContentLoaded",N=function(){ac.removeEventListener("DOMContentLoaded",N,0),ac.readyState="complete"},0)),ad.yepnope=T(),ad.yepnope.executeStack=W,ad.yepnope.injectJs=function(u,t,s,r,q,p){var n=ac.createElement("script"),m,h,r=r||L.errorTimeout;n.src=u;for(h in s){n.setAttribute(h,s[h])}t=p?W:t||Y,n.onreadystatechange=n.onload=function(){!m&&X(n.readyState)&&(m=1,t(),n.onload=n.onreadystatechange=null)},R(function(){m||(m=1,t(1))},r),q?n.onload():Q.parentNode.insertBefore(n,Q)},ad.yepnope.injectCss=function(h,p,o,n,m,l){var n=ac.createElement("link"),k,p=l?W:p||Y;n.href=h,n.rel="stylesheet",n.type="text/css";for(k in o){n.setAttribute(k,o[k])}m||(Q.parentNode.insertBefore(n,Q),R(p,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};var d="";var e="";var g="";var a="";var b="";var c=false;f.MyWeather=function(i,o){i=f.extend({position:"right",showpopup:true,showinfo:true,plain:false,plainfolder:"/bundles/majescore/images",temperature:"c",closeicon:true,showicon:true,showtemperature:true,showlocation:true,showip:true,size:64,iconcolor:"white",fontcolor:"white",update:undefined,elementid:undefined,},i);j(true);if(i.update!=undefined){setInterval(function(){j(false)},(i.update*60))}function j(q){if(q==true){i.position=i.position.toLowerCase();i.temperature=i.temperature.toLowerCase();var p="";switch(i.position){case"right":p="weatherInfoRight";break;case"left":p="weatherInfoLeft";break;case"bottomright":p="weatherInfoBottomRight";break;case"bottomleft":p="weatherInfoBottomLeft";break;default:p="weatherInfoRight";break}var r="";r+='<div class="MyWeatherDiv '+p+'">';if(i.closeicon==true){r+='<span class="MyWeatherClose">X</span>'}if(i.showicon==true){if(Modernizr.canvas==true){r+='<figure id="divMyIcons">';r+='<canvas id="clear-day" width="'+i.size+'" height="'+i.size+'"></canvas>';r+='<canvas id="clear-night" width="'+i.size+'" height="'+i.size+'"></canvas>';r+='<canvas id="partly-cloudy-day" width="'+i.size+'" height="'+i.size+'"></canvas>';r+='<canvas id="partly-cloudy-night" width="'+i.size+'" height="'+i.size+'"></canvas>';r+='<canvas id="cloudy" width="'+i.size+'" height="'+i.size+'"></canvas>';r+='<canvas id="rain" width="'+i.size+'" height="'+i.size+'"></canvas>';r+='<canvas id="sleet" width="'+i.size+'" height="'+i.size+'"></canvas>';r+='<canvas id="snow" width="'+i.size+'" height="'+i.size+'"></canvas>';r+='<canvas id="wind" width="'+i.size+'" height="'+i.size+'"></canvas>';r+='<canvas id="fog" width="'+i.size+'" height="'+i.size+'"></canvas>';r+="</figure>";r+='<div id="divMyImage" align="center"><img id="picMW" src="#" style="width:'+i.size+"px !important; height:"+i.size+'px !important;"></div>'}else{r+='<img id="picMW" src="#" style="width:'+i.size+"px !important; height:"+i.size+'px !important;">'}}r+='<div class="MyWeatherInfo">';if(i.showtemperature==true){r+='<span class="MWTemperature"></span>'}if(i.showlocation==true){r+='<span class="MWPlace"></span>'}if(i.showip==true){r+='<span class="MWIP"></span>'}r+="</div>";r+="</div>";if(i.showpopup==true){if(i.elementid!=undefined){f(i.elementid).append(r);f(".MyWeatherDiv").removeClass(p);f(".MyWeatherClose").remove()}else{f("body").append(r)}}}else{f("#clear-day").hide();f("#clear-night").hide();f("#partly-cloudy-day").hide();f("#partly-cloudy-night").hide();f("#cloudy").hide();f("#rain").hide();f("#sleet").hide();f("#snow").hide();f("#wind").hide();f("#fog").hide()}f.ajax({type:"GET",dataType:"jsonp",url:"http://www.geoplugin.net/json.gp?jsoncallback=?",success:function(s){l(s)}})}function l(p){d=p.geoplugin_city;e=p.geoplugin_countryName;g=p.geoplugin_request;a=p.geoplugin_latitude;b=p.geoplugin_longitude;f.ajax({type:"GET",dataType:"jsonp",url:"http://api.openweathermap.org/data/2.5/weather?lat="+a+"&lon="+b,success:function(q){k(q)},error:function(q,s,r){if(typeof o=="function"){if(o){o(d,e,g,a,b,"Try again in 1 minute.","#")}}}})}function k(r){var q="";var p=(r.main.temp*1);switch(i.temperature){case"c":q=p-273.15;q=Math.round(q*100)/100;q=q+"&deg; celsius";break;case"f":q=((p-273.15)*1.8)+32;q=Math.round(q*100)/100;q=q+"&deg; fahrenheit";break;case"k":q=p+"&deg; kelvin";break}n(r.weather[0].id,r.weather[0].icon,q);f(".MWTemperature").html(q).css("color",i.fontcolor);if(d.length>2){f(".MWPlace").html(d+", "+e).css("color",i.fontcolor)}else{f(".MWPlace").html(e).css("color",i.fontcolor)}f(".MWIP").html(g).css("color",i.fontcolor);f(".MyWeatherDiv").fadeIn()}if(i.closeicon==true){f("body").on("click",".MyWeatherClose",function(){f(".MyWeatherDiv").animate({opacity:0,},300,function(){f(this).remove()})})}function n(q,s,r){var t=true;var p="#";s=s.toLowerCase();if(s.indexOf("n")>0){t=false}switch(q){case 200:f("#sleet").show();p=i.plainfolder+"/sleet.png";break;case 201:f("#sleet").show();p=i.plainfolder+"/sleet.png";break;case 202:f("#sleet").show();p=i.plainfolder+"/sleet.png";break;case 210:f("#sleet").show();p=i.plainfolder+"/sleet.png";break;case 211:f("#sleet").show();p=i.plainfolder+"/sleet.png";break;case 212:f("#sleet").show();p=i.plainfolder+"/sleet.png";break;case 221:f("#sleet").show();p=i.plainfolder+"/sleet.png";break;case 230:f("#sleet").show();p=i.plainfolder+"/sleet.png";break;case 231:f("#sleet").show();p=i.plainfolder+"/sleet.png";break;case 232:f("#sleet").show();p=i.plainfolder+"/sleet.png";break;case 300:f("#rain").show();p=i.plainfolder+"/rain.png";break;case 301:f("#rain").show();p=i.plainfolder+"/rain.png";break;case 302:f("#rain").show();p=i.plainfolder+"/rain.png";break;case 310:f("#rain").show();p=i.plainfolder+"/rain.png";break;case 311:f("#rain").show();p=i.plainfolder+"/rain.png";break;case 312:f("#rain").show();p=i.plainfolder+"/rain.png";break;case 313:f("#rain").show();p=i.plainfolder+"/rain.png";break;case 314:f("#rain").show();p=i.plainfolder+"/rain.png";break;case 321:f("#rain").show();p=i.plainfolder+"/rain.png";break;case 500:f("#rain").show();p=i.plainfolder+"/rain.png";break;case 501:f("#rain").show();p=i.plainfolder+"/rain.png";break;case 502:f("#sleet").show();p=i.plainfolder+"/sleet.png";break;case 503:f("#sleet").show();p=i.plainfolder+"/sleet.png";break;case 504:f("#sleet").show();p=i.plainfolder+"/sleet.png";break;case 511:f("#snow").show();p=i.plainfolder+"/snow.png";break;case 520:f("#sleet").show();p=i.plainfolder+"/sleet.png";break;case 521:f("#sleet").show();p=i.plainfolder+"/sleet.png";break;case 522:f("#sleet").show();p=i.plainfolder+"/sleet.png";break;case 531:f("#sleet").show();p=i.plainfolder+"/sleet.png";break;case 600:f("#snow").show();p=i.plainfolder+"/snow.png";break;case 601:f("#snow").show();p=i.plainfolder+"/snow.png";break;case 602:f("#snow").show();p=i.plainfolder+"/snow.png";break;case 611:f("#snow").show();p=i.plainfolder+"/snow.png";break;case 612:f("#snow").show();p=i.plainfolder+"/snow.png";break;case 615:f("#snow").show();p=i.plainfolder+"/snow.png";break;case 616:f("#snow").show();p=i.plainfolder+"/snow.png";break;case 620:f("#snow").show();p=i.plainfolder+"/snow.png";break;case 621:f("#snow").show();p=i.plainfolder+"/snow.png";break;case 622:f("#snow").show();p=i.plainfolder+"/snow.png";break;case 701:f("#fog").show();p=i.plainfolder+"/fog.png";break;case 711:f("#fog").show();p=i.plainfolder+"/fog.png";break;case 721:f("#fog").show();p=i.plainfolder+"/fog.png";break;case 731:f("#fog").show();p=i.plainfolder+"/fog.png";break;case 741:f("#fog").show();p=i.plainfolder+"/fog.png";break;case 751:f("#fog").show();p=i.plainfolder+"/fog.png";break;case 761:f("#fog").show();p=i.plainfolder+"/fog.png";break;case 762:f("#fog").show();p=i.plainfolder+"/fog.png";break;case 771:f("#fog").show();p=i.plainfolder+"/fog.png";break;case 781:f("#fog").show();p=i.plainfolder+"/fog.png";break;case 800:if(t){f("#clear-day").show();p=i.plainfolder+"/clear-day.png"}else{f("#clear-night").show();p=i.plainfolder+"/clear-night.png"}break;case 801:if(t){f("#partly-cloudy-day").show();p=i.plainfolder+"/partly-cloudy-day.png"}else{f("#partly-cloudy-night").show();p=i.plainfolder+"/partly-cloudy-night.png"}break;case 802:f("#cloudy").show();p=i.plainfolder+"/cloudy.png";break;case 803:f("#cloudy").show();p=i.plainfolder+"/cloudy.png";break;case 804:f("#cloudy").show();p=i.plainfolder+"/cloudy.png";break;case 900:f("#wind").show();p=i.plainfolder+"/wind.png";break;case 901:f("#rain").show();p=i.plainfolder+"/rain.png";break;case 902:f("#wind").show();p=i.plainfolder+"/wind.png";break;case 903:f("#cloudy").show();p=i.plainfolder+"/cloudy.png";break;case 904:f("#clear-day").show();p=i.plainfolder+"/clear-day.png";break;case 905:f("#wind").show();p=i.plainfolder+"/wind.png";break;case 906:f("#snow").show();p=i.plainfolder+"/snow.png";break}f("#picMW").attr("src",p);if(i.plain==true){f("#divMyIcons").hide();f("#divMyImage").show()}if(typeof o=="function"){if(o){o(d,e,g,a,b,r,p)}}}var m;if(Modernizr.canvas==false){return false}if(i.plain==true){return false}if(c==true){return false}(function(E){var t,B;(function(){var M=E.requestAnimationFrame||E.webkitRequestAnimationFrame||E.mozRequestAnimationFrame||E.oRequestAnimationFrame||E.msRequestAnimationFrame,L=E.cancelAnimationFrame||E.webkitCancelAnimationFrame||E.mozCancelAnimationFrame||E.oCancelAnimationFrame||E.msCancelAnimationFrame;if(M&&L){t=function(P,O){var Q={value:null};function N(){Q.value=M(N);P()}N();return Q};B=function(N){L(N.value)}}else{t=setInterval;B=clearInterval}}());var J=500,H=0.08,I=2*Math.PI,C=2/Math.sqrt(2);function w(M,L,O,N){M.beginPath();M.arc(L,O,N,0,I,false);M.fill()}function A(L,N,M,P,O){L.beginPath();L.moveTo(N,M);L.lineTo(P,O);L.stroke()}function K(S,R,O,N,M,L,P,U){var Q=Math.cos(R*I),T=Math.sin(R*I);U-=P;w(S,O-T*M,N+Q*L+U*0.5,P+(1-Q*0.5)*U)}function u(S,R,O,N,M,L,Q,T){var P;for(P=5;P--;){K(S,R+P/5,O,N,M,L,Q,T)}}function x(U,T,N,L,O,V,M){T/=30000;var S=O*0.21,R=O*0.12,Q=O*0.24,P=O*0.28;U.fillStyle=M;u(U,T,N,L,S,R,Q,P);U.globalCompositeOperation="destination-out";u(U,T,N,L,S,R,Q-V,P-V);U.globalCompositeOperation="source-over"}function s(X,W,O,M,P,Y,N){W/=120000;var U=P*0.25-Y*0.5,T=P*0.32+Y*0.5,S=P*0.5-Y*0.5,Q,L,V,R;X.strokeStyle=N;X.lineWidth=Y;X.lineCap="round";X.lineJoin="round";X.beginPath();X.arc(O,M,U,0,I,false);X.stroke();for(Q=8;Q--;){L=(W+Q/8)*I;V=Math.cos(L);R=Math.sin(L);A(X,O+V*T,M+R*T,O+V*S,M+R*S)}}function r(U,T,O,M,P,V,N){T/=15000;var S=P*0.29-V*0.5,R=P*0.05,Q=Math.cos(T*I),L=Q*I/-16;U.strokeStyle=N;U.lineWidth=V;U.lineCap="round";U.lineJoin="round";O+=Q*R;U.beginPath();U.arc(O,M,S,L+I/8,L+I*7/8,false);U.arc(O+Math.cos(L)*S*C,M+Math.sin(L)*S*C,S,L+I*5/8,L+I*3/8,true);U.closePath();U.stroke()}function q(X,W,O,M,P,Y,N){W/=1350;var V=P*0.16,T=I*11/12,R=I*7/12,Q,L,U,S;X.fillStyle=N;for(Q=4;Q--;){L=(W+Q/4)%1;U=O+((Q-1.5)/1.5)*(Q===1||Q===2?-1:1)*V;S=M+L*L*P;X.beginPath();X.moveTo(U,S-Y*1.5);X.arc(U,S,Y*0.75,T,R,false);X.fill()}}function G(X,W,O,M,P,Y,N){W/=750;var V=P*0.1875,T=I*11/12,R=I*7/12,Q,L,U,S;X.strokeStyle=N;X.lineWidth=Y*0.5;X.lineCap="round";X.lineJoin="round";for(Q=4;Q--;){L=(W+Q/4)%1;U=Math.floor(O+((Q-1.5)/1.5)*(Q===1||Q===2?-1:1)*V)+0.5;S=M+L*P;A(X,U,S-Y*1.5,U,S+Y*1.5)}}function v(aa,V,M,L,N,W,ab){V/=3000;var af=N*0.16,ad=W*0.75,U=V*I*0.7,P=Math.cos(U)*ad,O=Math.sin(U)*ad,T=U+I/3,Z=Math.cos(T)*ad,X=Math.sin(T)*ad,S=U+I*2/3,ag=Math.cos(S)*ad,ae=Math.sin(S)*ad,ac,Y,R,Q;aa.strokeStyle=ab;aa.lineWidth=W*0.5;aa.lineCap="round";aa.lineJoin="round";for(ac=4;ac--;){Y=(V+ac/4)%1;R=M+Math.sin((Y+ac/4)*I)*af;Q=L+Y*N;A(aa,R-P,Q-O,R+P,Q+O);A(aa,R-Z,Q-X,R+Z,Q+X);A(aa,R-ag,Q-ae,R+ag,Q+ae)}}function p(U,T,N,L,O,V,M){T/=30000;var S=O*0.21,R=O*0.06,Q=O*0.21,P=O*0.28;U.fillStyle=M;u(U,T,N,L,S,R,Q,P);U.globalCompositeOperation="destination-out";u(U,T,N,L,S,R,Q-V,P-V);U.globalCompositeOperation="source-over"}var D=[[-0.75,-0.18,-0.7219,-0.1527,-0.6971,-0.1225,-0.6739,-0.091,-0.6516,-0.0588,-0.6298,-0.0262,-0.6083,0.0065,-0.5868,0.0396,-0.5643,0.0731,-0.5372,0.1041,-0.5033,0.1259,-0.4662,0.1406,-0.4275,0.1493,-0.3881,0.153,-0.3487,0.1526,-0.3095,0.1488,-0.2708,0.1421,-0.2319,0.1342,-0.1943,0.1217,-0.16,0.1025,-0.129,0.0785,-0.1012,0.0509,-0.0764,0.0206,-0.0547,-0.012,-0.0378,-0.0472,-0.0324,-0.0857,-0.0389,-0.1241,-0.0546,-0.1599,-0.0814,-0.1876,-0.1193,-0.1964,-0.1582,-0.1935,-0.1931,-0.1769,-0.2157,-0.1453,-0.229,-0.1085,-0.2327,-0.0697,-0.224,-0.0317,-0.2064,0.0033,-0.1853,0.0362,-0.1613,0.0672,-0.135,0.0961,-0.1051,0.1213,-0.0706,0.1397,-0.0332,0.1512,0.0053,0.158,0.0442,0.1624,0.0833,0.1636,0.1224,0.1615,0.1613,0.1565,0.1999,0.15,0.2378,0.1402,0.2749,0.1279,0.3118,0.1147,0.3487,0.1015,0.3858,0.0892,0.4236,0.0787,0.4621,0.0715,0.5012,0.0702,0.5398,0.0766,0.5768,0.089,0.6123,0.1055,0.6466,0.1244,0.6805,0.144,0.7147,0.163,0.75,0.18],[-0.75,0,-0.7033,0.0195,-0.6569,0.0399,-0.6104,0.06,-0.5634,0.0789,-0.5155,0.0954,-0.4667,0.1089,-0.4174,0.1206,-0.3676,0.1299,-0.3174,0.1365,-0.2669,0.1398,-0.2162,0.1391,-0.1658,0.1347,-0.1157,0.1271,-0.0661,0.1169,-0.017,0.1046,0.0316,0.0903,0.0791,0.0728,0.1259,0.0534,0.1723,0.0331,0.2188,0.0129,0.2656,-0.0064,0.3122,-0.0263,0.3586,-0.0466,0.4052,-0.0665,0.4525,-0.0847,0.5007,-0.1002,0.5497,-0.113,0.5991,-0.124,0.6491,-0.1325,0.6994,-0.138,0.75,-0.14]],y=[{start:0.36,end:0.11},{start:0.56,end:0.16}];function F(W,V,U,S,M,X,L){var T=M/8,R=T/3,Q=2*R,P=(V%1)*I,O=Math.cos(P),N=Math.sin(P);W.fillStyle=L;W.strokeStyle=L;W.lineWidth=X;W.lineCap="round";W.lineJoin="round";W.beginPath();W.arc(U,S,T,P,P+Math.PI,false);W.arc(U-R*O,S-R*N,Q,P+Math.PI,P,false);W.arc(U+Q*O,S+Q*N,R,P+Math.PI,P,true);W.globalCompositeOperation="destination-out";W.fill();W.globalCompositeOperation="source-over";W.stroke()}function z(Z,Y,N,L,O,ab,R,W,M){Y/=2500;var aa=D[R],X=(Y+R-y[R].start)%W,U=(Y+R-y[R].end)%W,S=(Y+R)%W,V,T,Q,P;Z.strokeStyle=M;Z.lineWidth=ab;Z.lineCap="round";Z.lineJoin="round";if(X<1){Z.beginPath();X*=aa.length/2-1;V=Math.floor(X);X-=V;V*=2;V+=2;Z.moveTo(N+(aa[V-2]*(1-X)+aa[V]*X)*O,L+(aa[V-1]*(1-X)+aa[V+1]*X)*O);if(U<1){U*=aa.length/2-1;T=Math.floor(U);U-=T;T*=2;T+=2;for(P=V;P!==T;P+=2){Z.lineTo(N+aa[P]*O,L+aa[P+1]*O)}Z.lineTo(N+(aa[T-2]*(1-U)+aa[T]*U)*O,L+(aa[T-1]*(1-U)+aa[T+1]*U)*O)}else{for(P=V;P!==aa.length;P+=2){Z.lineTo(N+aa[P]*O,L+aa[P+1]*O)}}Z.stroke()}else{if(U<1){Z.beginPath();U*=aa.length/2-1;T=Math.floor(U);U-=T;T*=2;T+=2;Z.moveTo(N+aa[0]*O,L+aa[1]*O);for(P=2;P!==T;P+=2){Z.lineTo(N+aa[P]*O,L+aa[P+1]*O)}Z.lineTo(N+(aa[T-2]*(1-U)+aa[T]*U)*O,L+(aa[T-1]*(1-U)+aa[T+1]*U)*O);Z.stroke()}}if(S<1){S*=aa.length/2-1;Q=Math.floor(S);S-=Q;Q*=2;Q+=2;F(Z,Y,N+(aa[Q-2]*(1-S)+aa[Q]*S)*O,L+(aa[Q-1]*(1-S)+aa[Q+1]*S)*O,O,ab,M)}}m=function(L){this.list=[];this.interval=null;this.color=L&&L.color?L.color:"black";this.resizeClear=!!(L&&L.resizeClear)};m.CLEAR_DAY=function(M,O,N){var L=M.canvas.width,Q=M.canvas.height,P=Math.min(L,Q);s(M,O,L*0.5,Q*0.5,P,P*H,N)};m.CLEAR_NIGHT=function(M,O,N){var L=M.canvas.width,Q=M.canvas.height,P=Math.min(L,Q);r(M,O,L*0.5,Q*0.5,P,P*H,N)};m.PARTLY_CLOUDY_DAY=function(M,O,N){var L=M.canvas.width,Q=M.canvas.height,P=Math.min(L,Q);s(M,O,L*0.625,Q*0.375,P*0.75,P*H,N);x(M,O,L*0.375,Q*0.625,P*0.75,P*H,N)};m.PARTLY_CLOUDY_NIGHT=function(M,O,N){var L=M.canvas.width,Q=M.canvas.height,P=Math.min(L,Q);r(M,O,L*0.667,Q*0.375,P*0.75,P*H,N);x(M,O,L*0.375,Q*0.625,P*0.75,P*H,N)};m.CLOUDY=function(M,O,N){var L=M.canvas.width,Q=M.canvas.height,P=Math.min(L,Q);x(M,O,L*0.5,Q*0.5,P,P*H,N)};m.RAIN=function(M,O,N){var L=M.canvas.width,Q=M.canvas.height,P=Math.min(L,Q);q(M,O,L*0.5,Q*0.37,P*0.9,P*H,N);x(M,O,L*0.5,Q*0.37,P*0.9,P*H,N)};m.SLEET=function(M,O,N){var L=M.canvas.width,Q=M.canvas.height,P=Math.min(L,Q);G(M,O,L*0.5,Q*0.37,P*0.9,P*H,N);x(M,O,L*0.5,Q*0.37,P*0.9,P*H,N)};m.SNOW=function(M,O,N){var L=M.canvas.width,Q=M.canvas.height,P=Math.min(L,Q);v(M,O,L*0.5,Q*0.37,P*0.9,P*H,N);x(M,O,L*0.5,Q*0.37,P*0.9,P*H,N)};m.WIND=function(M,O,N){var L=M.canvas.width,Q=M.canvas.height,P=Math.min(L,Q);z(M,O,L*0.5,Q*0.5,P,P*H,0,2,N);z(M,O,L*0.5,Q*0.5,P,P*H,1,2,N)};m.FOG=function(X,W,M){var V=X.canvas.width,O=X.canvas.height,Y=Math.min(V,O),N=Y*H;p(X,W,V*0.5,O*0.32,Y*0.75,N,M);W/=5000;var U=Math.cos((W)*I)*Y*0.02,T=Math.cos((W+0.25)*I)*Y*0.02,S=Math.cos((W+0.5)*I)*Y*0.02,R=Math.cos((W+0.75)*I)*Y*0.02,L=O*0.936,Q=Math.floor(L-N*0.5)+0.5,P=Math.floor(L-N*2.5)+0.5;X.strokeStyle=M;X.lineWidth=N;X.lineCap="round";X.lineJoin="round";A(X,U+V*0.2+N*0.5,Q,T+V*0.8-N*0.5,Q);A(X,S+V*0.2+N*0.5,P,R+V*0.8-N*0.5,P)};m.prototype={add:function(M,L){var N;if(typeof M==="string"){M=document.getElementById(M)}N={element:M,context:M.getContext("2d"),drawing:L};this.list.push(N);this.draw(N,J)},set:function(N,L){var M;if(typeof N==="string"){N=document.getElementById(N)}for(M=this.list.length;M--;){if(this.list[M].element===N){this.list[M].drawing=L;this.draw(this.list[M],J);return}}this.add(N,L)},remove:function(M){var L;if(typeof M==="string"){M=document.getElementById(M)}for(L=this.list.length;L--;){if(this.list[L].element===M){this.list.splice(L,1);return}}},draw:function(N,M){var L=N.context.canvas;if(this.resizeClear){L.width=L.width}else{N.context.clearRect(0,0,L.width,L.height)}N.drawing(N.context,M,this.color)},play:function(){var L=this;this.pause();this.interval=t(function(){var M=Date.now(),N;for(N=L.list.length;N--;){L.draw(L.list[N],M)}},1000/60)},pause:function(){var L;if(this.interval){B(this.interval);this.interval=null}}}}(this));var h=new m({color:i.iconcolor});h.set("clear-day",m.CLEAR_DAY);h.set("clear-night",m.CLEAR_NIGHT);h.set("partly-cloudy-day",m.PARTLY_CLOUDY_DAY);h.set("partly-cloudy-night",m.PARTLY_CLOUDY_NIGHT);h.set("cloudy",m.CLOUDY);h.set("rain",m.RAIN);h.set("sleet",m.SLEET);h.set("snow",m.SNOW);h.set("wind",m.WIND);h.set("fog",m.FOG);h.play()}})(jQuery);